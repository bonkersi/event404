<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zegar Odliczający 14 Dni</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }
        
        .clock-container {
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 20px 0;
        }
        
        .clock-container::-webkit-scrollbar {
            display: none;
        }
        
        .clock-row {
            display: inline-block;
            min-width: 100%;
            text-align: center;
        }
        
        .lcd-clock {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: #000;
            padding: 10px;
            gap: 1vw;
            min-width: 95vw;
        }
        
        /* Sprites dla cyfr - generowane z CSS */
        .digit-sprite {
            display: inline-block;
            background-color: #000;
            position: relative;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        
        /* Wspólne cechy cyfr */
        .digit {
            position: relative;
            background: #000;
            border-radius: 2px;
        }
        
        /* Segmenty cyfr 7-segmentowych */
        .segment {
            position: absolute;
            background: #fff;
            border-radius: 1px;
        }
        
        /* Segmenty poziome (a, d, g) */
        .segment-h {
            height: 3%;
            border-radius: 2px;
        }
        
        /* Segmenty pionowe (b, c, e, f) */
        .segment-v {
            width: 3%;
            border-radius: 2px;
        }
        
        /* Konkretne segmenty dla każdej cyfry będą generowane przez JS */
        
        /* Kolon (dwukropek) */
        .colon-dot {
            display: inline-block;
            width: 2vw;
            height: 2vw;
            background-color: #fff;
            border-radius: 50%;
            margin: 0 0.5vw;
            box-shadow: 0 0 5px #fff;
            animation: blink 1s infinite;
        }
        
        /* Kropka przed milisekundami */
        .milli-dot {
            display: inline-block;
            width: 1.5vw;
            height: 1.5vw;
            background-color: #fff;
            border-radius: 50%;
            margin: 0 0.5vw;
            box-shadow: 0 0 3px #fff;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        /* Media queries dla skalowania */
        @media (max-width: 768px) {
            .lcd-clock {
                gap: 0.8vw;
            }
            .colon-dot {
                width: 1.8vw;
                height: 1.8vw;
            }
            .milli-dot {
                width: 1.3vw;
                height: 1.3vw;
            }
        }
        
        @media (max-width: 480px) {
            .lcd-clock {
                gap: 0.6vw;
                padding: 5px;
            }
            .colon-dot {
                width: 1.5vw;
                height: 1.5vw;
            }
            .milli-dot {
                width: 1vw;
                height: 1vw;
            }
        }
        
        @media (min-width: 1200px) {
            .lcd-clock {
                gap: 0.8vw;
            }
        }
    </style>
</head>
<body>
    <div class="clock-container">
        <div class="clock-row">
            <div class="lcd-clock" id="clockDisplay">
                <!-- Cyfry będą generowane przez JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Czas docelowy: 14 dni od teraz
        const targetTime = new Date().getTime() + (14 * 24 * 60 * 60 * 1000);
        const redirectUrl = "https://bonkersi.github.io/BialaJaskolka.pl/index.html";
        
        // Definicje segmentów dla każdej cyfry (0-9)
        const digitSegments = [
            // 0: a,b,c,d,e,f
            [1,1,1,1,1,1,0],
            // 1: b,c
            [0,1,1,0,0,0,0],
            // 2: a,b,d,e,g
            [1,1,0,1,1,0,1],
            // 3: a,b,c,d,g
            [1,1,1,1,0,0,1],
            // 4: b,c,f,g
            [0,1,1,0,0,1,1],
            // 5: a,c,d,f,g
            [1,0,1,1,0,1,1],
            // 6: a,c,d,e,f,g
            [1,0,1,1,1,1,1],
            // 7: a,b,c
            [1,1,1,0,0,0,0],
            // 8: wszystkie segmenty
            [1,1,1,1,1,1,1],
            // 9: a,b,c,d,f,g
            [1,1,1,1,0,1,1]
        ];
        
        // Funkcja tworząca cyfrę 7-segmentową
        function createDigit(value, isMillisecond = false) {
            const segments = digitSegments[value];
            const digitSize = isMillisecond ? 0.7 : 1;
            const digitWidth = 8 * digitSize;
            const digitHeight = 12 * digitSize;
            const segmentThickness = 1.2 * digitSize;
            const segmentLength = 6 * digitSize;
            
            const digitDiv = document.createElement('div');
            digitDiv.className = 'digit-sprite';
            digitDiv.style.width = `${digitWidth}vw`;
            digitDiv.style.height = `${digitHeight}vw`;
            
            // Segmenty (a-g)
            // Segment a (górny)
            if (segments[0]) {
                const segment = document.createElement('div');
                segment.className = 'segment segment-h';
                segment.style.width = `${segmentLength}vw`;
                segment.style.height = `${segmentThickness}vw`;
                segment.style.left = `${(digitWidth - segmentLength) / 2}vw`;
                segment.style.top = '0';
                digitDiv.appendChild(segment);
            }
            
            // Segment b (prawy górny)
            if (segments[1]) {
                const segment = document.createElement('div');
                segment.className = 'segment segment-v';
                segment.style.width = `${segmentThickness}vw`;
                segment.style.height = `${segmentLength}vw`;
                segment.style.right = '0';
                segment.style.top = `${(digitHeight/2 - segmentLength)/2}vw`;
                digitDiv.appendChild(segment);
            }
            
            // Segment c (prawy dolny)
            if (segments[2]) {
                const segment = document.createElement('div');
                segment.className = 'segment segment-v';
                segment.style.width = `${segmentThickness}vw`;
                segment.style.height = `${segmentLength}vw`;
                segment.style.right = '0';
                segment.style.bottom = `${(digitHeight/2 - segmentLength)/2}vw`;
                digitDiv.appendChild(segment);
            }
            
            // Segment d (dolny)
            if (segments[3]) {
                const segment = document.createElement('div');
                segment.className = 'segment segment-h';
                segment.style.width = `${segmentLength}vw`;
                segment.style.height = `${segmentThickness}vw`;
                segment.style.left = `${(digitWidth - segmentLength) / 2}vw`;
                segment.style.bottom = '0';
                digitDiv.appendChild(segment);
            }
            
            // Segment e (lewy dolny)
            if (segments[4]) {
                const segment = document.createElement('div');
                segment.className = 'segment segment-v';
                segment.style.width = `${segmentThickness}vw`;
                segment.style.height = `${segmentLength}vw`;
                segment.style.left = '0';
                segment.style.bottom = `${(digitHeight/2 - segmentLength)/2}vw`;
                digitDiv.appendChild(segment);
            }
            
            // Segment f (lewy górny)
            if (segments[5]) {
                const segment = document.createElement('div');
                segment.className = 'segment segment-v';
                segment.style.width = `${segmentThickness}vw`;
                segment.style.height = `${segmentLength}vw`;
                segment.style.left = '0';
                segment.style.top = `${(digitHeight/2 - segmentLength)/2}vw`;
                digitDiv.appendChild(segment);
            }
            
            // Segment g (środkowy)
            if (segments[6]) {
                const segment = document.createElement('div');
                segment.className = 'segment segment-h';
                segment.style.width = `${segmentLength}vw`;
                segment.style.height = `${segmentThickness}vw`;
                segment.style.left = `${(digitWidth - segmentLength) / 2}vw`;
                segment.style.top = '50%';
                segment.style.transform = 'translateY(-50%)';
                digitDiv.appendChild(segment);
            }
            
            return digitDiv;
        }
        
        // Funkcja tworząca dwukropek
        function createColon() {
            const colonDiv = document.createElement('div');
            colonDiv.className = 'colon-container';
            colonDiv.style.display = 'inline-flex';
            colonDiv.style.flexDirection = 'column';
            colonDiv.style.justifyContent = 'space-between';
            colonDiv.style.alignItems = 'center';
            colonDiv.style.height = '12vw';
            colonDiv.style.margin = '0 0.5vw';
            
            const dot1 = document.createElement('div');
            dot1.className = 'colon-dot';
            
            const dot2 = document.createElement('div');
            dot2.className = 'colon-dot';
            
            colonDiv.appendChild(dot1);
            colonDiv.appendChild(dot2);
            
            return colonDiv;
        }
        
        // Funkcja tworząca kropkę przed milisekundami
        function createMilliDot() {
            const dot = document.createElement('div');
            dot.className = 'milli-dot';
            return dot;
        }
        
        // Funkcja tworząca cały wyświetlacz
        function createClockDisplay(days, hours, minutes, seconds, milliseconds) {
            const clockDiv = document.getElementById('clockDisplay');
            clockDiv.innerHTML = '';
            
            // Dni (2 cyfry)
            const daysStr = days.toString().padStart(2, '0');
            clockDiv.appendChild(createDigit(parseInt(daysStr[0])));
            clockDiv.appendChild(createDigit(parseInt(daysStr[1])));
            
            // Dwukropek
            clockDiv.appendChild(createColon());
            
            // Godziny (2 cyfry)
            const hoursStr = hours.toString().padStart(2, '0');
            clockDiv.appendChild(createDigit(parseInt(hoursStr[0])));
            clockDiv.appendChild(createDigit(parseInt(hoursStr[1])));
            
            // Dwukropek
            clockDiv.appendChild(createColon());
            
            // Minuty (2 cyfry)
            const minutesStr = minutes.toString().padStart(2, '0');
            clockDiv.appendChild(createDigit(parseInt(minutesStr[0])));
            clockDiv.appendChild(createDigit(parseInt(minutesStr[1])));
            
            // Dwukropek
            clockDiv.appendChild(createColon());
            
            // Sekundy (2 cyfry)
            const secondsStr = seconds.toString().padStart(2, '0');
            clockDiv.appendChild(createDigit(parseInt(secondsStr[0])));
            clockDiv.appendChild(createDigit(parseInt(secondsStr[1])));
            
            // Kropka przed milisekundami
            clockDiv.appendChild(createMilliDot());
            
            // Milisekundy (3 cyfry) - mniejsze
            const msStr = milliseconds.toString().padStart(3, '0');
            clockDiv.appendChild(createDigit(parseInt(msStr[0]), true));
            clockDiv.appendChild(createDigit(parseInt(msStr[1]), true));
            clockDiv.appendChild(createDigit(parseInt(msStr[2]), true));
        }
        
        // Funkcja aktualizująca zegar
        function updateClock() {
            const now = new Date().getTime();
            const timeRemaining = targetTime - now;
            
            // Jeśli czas minął, przekieruj
            if (timeRemaining <= 0) {
                window.location.href = redirectUrl;
                return;
            }
            
            // Obliczanie dni, godzin, minut, sekund i milisekund
            const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
            const milliseconds = Math.floor(timeRemaining % 1000);
            
            // Tworzenie/aktualizacja wyświetlacza
            createClockDisplay(days, hours, minutes, seconds, milliseconds);
            
            // Kontynuuj animację
            requestAnimationFrame(updateClock);
        }
        
        // Inicjalizacja zegara
        updateClock();
        
        // Funkcja zapewniająca, że zegar zawsze jest w jednej linii
        function ensureSingleLine() {
            const clock = document.getElementById('clockDisplay');
            const container = document.querySelector('.clock-container');
            
            // Resetujemy skalowanie
            clock.style.transform = 'scale(1)';
            
            // Sprawdzamy czy zegar mieści się w kontenerze
            const clockWidth = clock.scrollWidth;
            const containerWidth = container.clientWidth;
            
            // Jeśli zegar jest za szeroki, skalujemy go
            if (clockWidth > containerWidth * 0.95) {
                const scale = (containerWidth * 0.95) / clockWidth;
                clock.style.transform = `scale(${scale})`;
                clock.style.transformOrigin = 'center center';
            }
        }
        
        // Dostosuj rozmiar przy zmianie wielkości okna
        window.addEventListener('resize', ensureSingleLine);
        
        // Uruchom dostosowanie po załadowaniu
        window.addEventListener('load', () => {
            setTimeout(ensureSingleLine, 100);
        });
        
        // Uruchom dostosowanie co sekundę (na wypadek animacji)
        setInterval(ensureSingleLine, 1000);
    </script>
</body>
</html>
